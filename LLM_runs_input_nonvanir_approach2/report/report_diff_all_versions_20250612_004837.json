{
    "run_timestamp": "20250612_004837",
    "target_downstream_version": "all_versions",
    "concurrency": 5,
    "temperature_setting": 0.0,
    "input_json_file": "inputs/top_11_vulns_2425.json",
    "summary": {
        "total_file_conflicts_to_process": 36,
        "files_attempted_for_llm_diff_generation": 36,
        "files_with_llm_diff_successfully_generated": 17,
        "files_skipped_pre_llm_call": 0,
        "files_with_llm_diff_generation_errors_or_skipped_in_func": 19,
        "successful_attempts_histogram": {
            "2 runs": 7,
            "1 run": 8,
            "3 runs": 2
        },
        "total_runtime_seconds_all": 11668.489999999998,
        "total_runtime_seconds_successful": 3552.32,
        "total_script_wall_clock_runtime_seconds": 2560.935352870263,
        "total_gemini_input_tokens": 4221713,
        "total_gemini_output_tokens": 45190,
        "total_gemini_tokens": 5459577
    },
    "successfully_generated_diffs_log": [
        {
            "vulnerability_id": "ASB-A-309938635",
            "file_name": "ojluni/src/main/java/java/util/zip/ZipFile.java",
            "diff_preview": "```diff\n--- a/ojluni/src/main/java/java/util/zip/ZipFile.java\n+++ b/ojluni/src/main/java/java/util/zip/ZipFile.java\n@@ -269,7 +269,18 @@\n         // s...",
            "token_counts": {
                "prompt_tokens": 204,
                "gemini_input_tokens": 33870,
                "gemini_output_tokens": 817,
                "gemini_total_tokens": 61644
            }
        },
        {
            "vulnerability_id": "ASB-A-307948424",
            "file_name": "services/core/java/com/android/server/notification/SnoozeHelper.java",
            "diff_preview": "```diff\n--- a/services/core/java/com/android/server/notification/SnoozeHelper.java\n+++ b/services/core/java/com/android/server/notification/SnoozeHelp...",
            "token_counts": {
                "prompt_tokens": 86,
                "gemini_input_tokens": 29560,
                "gemini_output_tokens": 716,
                "gemini_total_tokens": 55299
            }
        },
        {
            "vulnerability_id": "ASB-A-333364513",
            "file_name": "src/com/android/settings/search/SearchResultTrampoline.java",
            "diff_preview": "```diff\n--- a/src/com/android/settings/search/SearchResultTrampoline.java\n+++ b/src/com/android/settings/search/SearchResultTrampoline.java\n@@ -52,11 ...",
            "token_counts": {
                "prompt_tokens": 104,
                "gemini_input_tokens": 5669,
                "gemini_output_tokens": 324,
                "gemini_total_tokens": 16274
            }
        },
        {
            "vulnerability_id": "ASB-A-307948424",
            "file_name": "services/core/java/com/android/server/notification/SnoozeHelper.java",
            "diff_preview": "```diff\n--- a/services/core/java/com/android/server/notification/SnoozeHelper.java\n+++ b/services/core/java/com/android/server/notification/SnoozeHelp...",
            "token_counts": {
                "prompt_tokens": 73,
                "gemini_input_tokens": 14565,
                "gemini_output_tokens": 336,
                "gemini_total_tokens": 23596
            }
        },
        {
            "vulnerability_id": "ASB-A-309938635",
            "file_name": "ojluni/src/main/java/java/util/zip/ZipFile.java",
            "diff_preview": "```diff\n--- a/ojluni/src/main/java/java/util/zip/ZipFile.java\n+++ b/ojluni/src/main/java/java/util/zip/ZipFile.java\n@@ -269,7 +269,19 @@\n         // s...",
            "token_counts": {
                "prompt_tokens": 219,
                "gemini_input_tokens": 51174,
                "gemini_output_tokens": 1338,
                "gemini_total_tokens": 89919
            }
        },
        {
            "vulnerability_id": "ASB-A-353712853",
            "file_name": "services/usb/java/com/android/server/usb/UsbDeviceManager.java",
            "diff_preview": "```diff\n--- a/services/usb/java/com/android/server/usb/UsbDeviceManager.java\n+++ b/services/usb/java/com/android/server/usb/UsbDeviceManager.java\n@@ -...",
            "token_counts": {
                "prompt_tokens": 150,
                "gemini_input_tokens": 72813,
                "gemini_output_tokens": 986,
                "gemini_total_tokens": 105521
            }
        },
        {
            "vulnerability_id": "ASB-A-309938635",
            "file_name": "ojluni/src/main/java/java/util/zip/ZipFile.java",
            "diff_preview": "```diff\n--- a/ojluni/src/main/java/java/util/zip/ZipFile.java\n+++ b/ojluni/src/main/java/java/util/zip/ZipFile.java\n@@ -269,7 +269,18 @@\n         // s...",
            "token_counts": {
                "prompt_tokens": 151,
                "gemini_input_tokens": 33907,
                "gemini_output_tokens": 760,
                "gemini_total_tokens": 63583
            }
        },
        {
            "vulnerability_id": "ASB-A-313428840",
            "file_name": "services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java",
            "diff_preview": "```diff\n--- a/services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java\n+++ b/services/companion/java/com/android/server...",
            "token_counts": {
                "prompt_tokens": 96,
                "gemini_input_tokens": 24942,
                "gemini_output_tokens": 332,
                "gemini_total_tokens": 31325
            }
        },
        {
            "vulnerability_id": "ASB-A-230492947",
            "file_name": "services/core/java/com/android/server/wm/ActivityTaskManagerService.java",
            "diff_preview": "```diff\n--- a/services/core/java/com/android/server/wm/ActivityTaskManagerService.java\n+++ b/services/core/java/com/android/server/wm/ActivityTaskMana...",
            "token_counts": {
                "prompt_tokens": 232,
                "gemini_input_tokens": 98566,
                "gemini_output_tokens": 787,
                "gemini_total_tokens": 105867
            }
        },
        {
            "vulnerability_id": "ASB-A-353240784",
            "file_name": "services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java",
            "diff_preview": "```diff\n--- a/services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java\n+++ b/services/appwidget/java/com/android/server/appwidge...",
            "token_counts": {
                "prompt_tokens": 300,
                "gemini_input_tokens": 150095,
                "gemini_output_tokens": 1308,
                "gemini_total_tokens": 184607
            }
        },
        {
            "vulnerability_id": "ASB-A-382064697",
            "file_name": "services/devicepolicy/java/com/android/server/devicepolicy/DevicePolicyManagerService.java",
            "diff_preview": "```diff\n--- a/services/devicepolicy/java/com/android/server/devicepolicy/DevicePolicyManagerService.java\n+++ b/services/devicepolicy/java/com/android/...",
            "token_counts": {
                "prompt_tokens": 265,
                "gemini_input_tokens": 795261,
                "gemini_output_tokens": 1267,
                "gemini_total_tokens": 821052
            }
        },
        {
            "vulnerability_id": "ASB-A-230492947",
            "file_name": "services/core/java/com/android/server/wm/ActivityTaskManagerService.java",
            "diff_preview": "```diff\n--- a/services/core/java/com/android/server/wm/ActivityTaskManagerService.java\n+++ b/services/core/java/com/android/server/wm/ActivityTaskMana...",
            "token_counts": {
                "prompt_tokens": 219,
                "gemini_input_tokens": 98566,
                "gemini_output_tokens": 756,
                "gemini_total_tokens": 107252
            }
        },
        {
            "vulnerability_id": "ASB-A-353240784",
            "file_name": "services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java",
            "diff_preview": "```diff\n--- a/services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java\n+++ b/services/appwidget/java/com/android/server/appwidge...",
            "token_counts": {
                "prompt_tokens": 295,
                "gemini_input_tokens": 225487,
                "gemini_output_tokens": 1943,
                "gemini_total_tokens": 274745
            }
        },
        {
            "vulnerability_id": "ASB-A-313428840",
            "file_name": "services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java",
            "diff_preview": "```diff\n--- a/services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java\n+++ b/services/companion/java/com/android/server...",
            "token_counts": {
                "prompt_tokens": 110,
                "gemini_input_tokens": 49182,
                "gemini_output_tokens": 821,
                "gemini_total_tokens": 79237
            }
        },
        {
            "vulnerability_id": "ASB-A-333364513",
            "file_name": "src/com/android/settings/search/SearchResultTrampoline.java",
            "diff_preview": "```diff\n--- a/src/com/android/settings/search/SearchResultTrampoline.java\n+++ b/src/com/android/settings/search/SearchResultTrampoline.java\n@@ -38,9 +...",
            "token_counts": {
                "prompt_tokens": 57,
                "gemini_input_tokens": 4749,
                "gemini_output_tokens": 184,
                "gemini_total_tokens": 17938
            }
        },
        {
            "vulnerability_id": "ASB-A-353712853",
            "file_name": "services/usb/java/com/android/server/usb/UsbDeviceManager.java",
            "diff_preview": "```diff\n--- a/services/usb/java/com/android/server/usb/UsbDeviceManager.java\n+++ b/services/usb/java/com/android/server/usb/UsbDeviceManager.java\n@@ -...",
            "token_counts": {
                "prompt_tokens": 22,
                "gemini_input_tokens": 38763,
                "gemini_output_tokens": 124,
                "gemini_total_tokens": 46344
            }
        },
        {
            "vulnerability_id": "ASB-A-309938635",
            "file_name": "ojluni/src/main/java/java/util/zip/ZipFile.java",
            "diff_preview": "```diff\n--- a/ojluni/src/main/java/java/util/zip/ZipFile.java\n+++ b/ojluni/src/main/java/java/util/zip/ZipFile.java\n@@ -298,7 +298,20 @@\n         // s...",
            "token_counts": {
                "prompt_tokens": 160,
                "gemini_input_tokens": 17451,
                "gemini_output_tokens": 384,
                "gemini_total_tokens": 28073
            }
        }
    ],
    "skipped_or_errored_diff_generation_log": [
        {
            "vulnerability_id": "ASB-A-333364513",
            "file_name": "src/com/android/settings/search/SearchResultTrampoline.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: ```",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 147,
                "gemini_input_tokens": 17693,
                "gemini_output_tokens": 1389,
                "gemini_total_tokens": 52927
            }
        },
        {
            "vulnerability_id": "ASB-A-307948424",
            "file_name": "services/core/java/com/android/server/notification/SnoozeHelper.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: ```",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 62,
                "gemini_input_tokens": 44685,
                "gemini_output_tokens": 1117,
                "gemini_total_tokens": 81215
            }
        },
        {
            "vulnerability_id": "ASB-A-314333719",
            "file_name": "packages/SystemUI/src/com/android/systemui/media/dagger/MediaModule.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 142,
                "gemini_input_tokens": 37871,
                "gemini_output_tokens": 2099,
                "gemini_total_tokens": 99569
            }
        },
        {
            "vulnerability_id": "ASB-A-353712853",
            "file_name": "services/usb/java/com/android/server/usb/UsbDeviceManager.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 155,
                "gemini_input_tokens": 110730,
                "gemini_output_tokens": 1382,
                "gemini_total_tokens": 173621
            }
        },
        {
            "vulnerability_id": "ASB-A-314333719",
            "file_name": "packages/SystemUI/src/com/android/systemui/media/dagger/MediaModule.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Valid patch format",
            "last_apply_error": "Patch failed in repo: checking file packages/SystemUI/src/com/android/systemui/media/dagger/MediaModule.java\nHunk #1 FAILED at 20.\nHunk #2 FAILED at 87.\nHunk #3 FAILED at 97.\npatch unexpectedly ends in middle of line\n3 out of 3 hunks FAILED\npatch unexpectedly ends in middle of line",
            "token_counts": {
                "prompt_tokens": 132,
                "gemini_input_tokens": 33727,
                "gemini_output_tokens": 1693,
                "gemini_total_tokens": 90982
            }
        },
        {
            "vulnerability_id": "ASB-A-353712853",
            "file_name": "services/usb/java/com/android/server/usb/UsbDeviceManager.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 162,
                "gemini_input_tokens": 109243,
                "gemini_output_tokens": 1245,
                "gemini_total_tokens": 159186
            }
        },
        {
            "vulnerability_id": "ASB-A-314333719",
            "file_name": "packages/SystemUI/src/com/android/systemui/media/dagger/MediaModule.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: @@ -33,6 +36,8 @@ public interface MediaModule {\n",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 163,
                "gemini_input_tokens": 33632,
                "gemini_output_tokens": 1762,
                "gemini_total_tokens": 90132
            }
        },
        {
            "vulnerability_id": "ASB-A-333364513",
            "file_name": "src/com/android/settings/search/SearchResultTrampoline.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: @@ -96,9 +96,9 @@\n",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 150,
                "gemini_input_tokens": 17721,
                "gemini_output_tokens": 1455,
                "gemini_total_tokens": 56394
            }
        },
        {
            "vulnerability_id": "ASB-A-230492947",
            "file_name": "services/core/java/com/android/server/wm/ActivityTaskManagerService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 227,
                "gemini_input_tokens": 338624,
                "gemini_output_tokens": 2285,
                "gemini_total_tokens": 372899
            }
        },
        {
            "vulnerability_id": "ASB-A-382064697",
            "file_name": "services/devicepolicy/java/com/android/server/devicepolicy/DevicePolicyManagerService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 266,
                "gemini_input_tokens": 905524,
                "gemini_output_tokens": 1989,
                "gemini_total_tokens": 931154
            }
        },
        {
            "vulnerability_id": "ASB-A-313428840",
            "file_name": "services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 116,
                "gemini_input_tokens": 74358,
                "gemini_output_tokens": 1267,
                "gemini_total_tokens": 114300
            }
        },
        {
            "vulnerability_id": "ASB-A-300090204",
            "file_name": "core/java/android/service/dreams/DreamService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Valid patch format",
            "last_apply_error": "Patch failed in repo: checking file core/java/android/service/dreams/DreamService.java\nHunk #1 FAILED at 1123.\nHunk #2 FAILED at 1184.\nHunk #3 FAILED at 1491.\npatch unexpectedly ends in middle of line\n3 out of 3 hunks FAILED\npatch unexpectedly ends in middle of line",
            "token_counts": {
                "prompt_tokens": 196,
                "gemini_input_tokens": 63406,
                "gemini_output_tokens": 1435,
                "gemini_total_tokens": 103682
            }
        },
        {
            "vulnerability_id": "ASB-A-353240784",
            "file_name": "services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 312,
                "gemini_input_tokens": 225526,
                "gemini_output_tokens": 2020,
                "gemini_total_tokens": 275718
            }
        },
        {
            "vulnerability_id": "ASB-A-300090204",
            "file_name": "core/java/android/service/dreams/DreamService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Valid patch format",
            "last_apply_error": "Patch failed in repo: checking file core/java/android/service/dreams/DreamService.java\nHunk #1 FAILED at 1125.\nHunk #2 FAILED at 1185.\nHunk #3 FAILED at 1195.\nHunk #4 FAILED at 1490.\npatch unexpectedly ends in middle of line\n4 out of 4 hunks FAILED\npatch unexpectedly ends in middle of line",
            "token_counts": {
                "prompt_tokens": 177,
                "gemini_input_tokens": 63406,
                "gemini_output_tokens": 1410,
                "gemini_total_tokens": 105185
            }
        },
        {
            "vulnerability_id": "ASB-A-353240784",
            "file_name": "services/appwidget/java/com/android/server/appwidget/AppWidgetServiceImpl.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: @@ -2851,10 +2860,29 @@\n",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 307,
                "gemini_input_tokens": 225485,
                "gemini_output_tokens": 1970,
                "gemini_total_tokens": 276169
            }
        },
        {
            "vulnerability_id": "ASB-A-313428840",
            "file_name": "services/companion/java/com/android/server/companion/CompanionDeviceManagerService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 113,
                "gemini_input_tokens": 55375,
                "gemini_output_tokens": 1051,
                "gemini_total_tokens": 90645
            }
        },
        {
            "vulnerability_id": "ASB-A-300090204",
            "file_name": "core/java/android/service/dreams/DreamService.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk is longer than expected",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 472,
                "gemini_input_tokens": 64684,
                "gemini_output_tokens": 3327,
                "gemini_total_tokens": 110716
            }
        },
        {
            "vulnerability_id": "ASB-A-317048495",
            "file_name": "packages/SystemUI/src/com/android/systemui/clipboardoverlay/ClipboardListener.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: @@ -98,10 +102,13 @@\n",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 176,
                "gemini_input_tokens": 19553,
                "gemini_output_tokens": 2078,
                "gemini_total_tokens": 74771
            }
        },
        {
            "vulnerability_id": "ASB-A-314333719",
            "file_name": "packages/SystemUI/src/com/android/systemui/media/dagger/MediaModule.java",
            "reason": "All 3 attempts failed.",
            "last_format_error": "Invalid patch format: Hunk diff line expected: @@ -91,8 +92,20 @@ public interface MediaModule {\n",
            "last_apply_error": "Skipped due to format error",
            "token_counts": {
                "prompt_tokens": 134,
                "gemini_input_tokens": 35850,
                "gemini_output_tokens": 1033,
                "gemini_total_tokens": 88036
            }
        }
    ]
}